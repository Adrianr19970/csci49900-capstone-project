{"ast":null,"code":"import _defineProperty from\"G:/Hunter/CSCI 49900/csci49900-capstone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"G:/Hunter/CSCI 49900/csci49900-capstone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"G:/Hunter/CSCI 49900/csci49900-capstone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"G:/Hunter/CSCI 49900/csci49900-capstone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"G:/Hunter/CSCI 49900/csci49900-capstone-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{CanvasJSChart}from'canvasjs-react-charts';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var Line=function Line(_ref){var _ref3;var symbol=_ref.symbol;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];/* const [date, setDate] = useState([]); */var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),stockInfo=_useState4[0],setStockInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),articles=_useState6[0],setArticles=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),stock=_useState8[0],setStock=_useState8[1];useEffect(function(){if(stock!==symbol){getchartInfo();setStock(symbol);}});/*\r\n  useEffect(() => {\r\n  const getchartInfo = async () => {\r\n    const priceAndDate = await axios.get (\r\n      'https://api.marketstack.com/v1/eod?access_key=7ba49202483340bca37ab953c66b592c&symbols=' + symbol , { mode: \"no-cors\" }\r\n    );\r\n    setPrice(priceAndDate.data.data);\r\n    };\r\n    getchartInfo();\r\n  },\r\n  [null]);\r\n  */var getchartInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var priceAndDate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://api.marketstack.com/v1/eod?access_key=7ba49202483340bca37ab953c66b592c&symbols='+symbol,{mode:\"no-cors\"});case 2:priceAndDate=_context.sent;setPrice(priceAndDate.data.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getchartInfo(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CanvasJSChart,{id:\"line\",options:(_ref3={exportEnabled:true,animationEnabled:true,height:450,axisY:{title:\"USD\",prefix:\"$\"}},_defineProperty(_ref3,\"axisY\",{minimum:Math.min.apply(Math,_toConsumableArray(price.map(function(data){return data.low;})))/1.1,maximum:Math.max.apply(Math,_toConsumableArray(price.map(function(data){return data.high;})))*1.1,crosshair:{enabled:true,snapToDataPoint:true},prefix:\"$\"}),_defineProperty(_ref3,\"axisX\",{crosshair:{enabled:true,snapToDataPoint:true}}),_defineProperty(_ref3,\"data\",[{type:\"line\",yValueFormatString:\"$#,###.##\",dataPoints:price.map(function(price){return{x:new Date(price.date),y:Number(price.close)};})}]),_ref3)})});};export default Line;","map":{"version":3,"sources":["G:/Hunter/CSCI 49900/csci49900-capstone-project/src/pages/linechartv2.js"],"names":["React","useEffect","useState","CanvasJSChart","axios","Line","symbol","price","setPrice","stockInfo","setStockInfo","articles","setArticles","stock","setStock","getchartInfo","get","mode","priceAndDate","data","exportEnabled","animationEnabled","height","axisY","title","prefix","minimum","Math","min","map","low","maximum","max","high","crosshair","enabled","snapToDataPoint","type","yValueFormatString","dataPoints","x","Date","date","y","Number","close"],"mappings":"q0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,aAAT,KAA8B,uBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAgB,cAAbC,CAAAA,MAAa,MAAbA,MAAa,CAE3B,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,2CACA,eAAkCN,QAAQ,CAAC,EAAD,CAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAAgCR,QAAQ,CAAC,EAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAAyBV,QAAQ,CAAC,EAAD,CAAjC,yCAAOW,KAAP,eAAcC,QAAd,eAEAb,SAAS,CAAC,UAAM,CACd,GAAGY,KAAK,GAAKP,MAAb,CAAqB,CACnBS,YAAY,GACZD,QAAQ,CAACR,MAAD,CAAR,CACD,CAEF,CANQ,CAAT,CAQA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAEE,GAAMS,CAAAA,YAAY,2FAAG,0KACQX,CAAAA,KAAK,CAACY,GAAN,CACzB,0FAA4FV,MADnE,CAC4E,CAAEW,IAAI,CAAE,SAAR,CAD5E,CADR,QACbC,YADa,eAInBV,QAAQ,CAACU,YAAY,CAACC,IAAb,CAAkBA,IAAnB,CAAR,CAJmB,sDAAH,kBAAZJ,CAAAA,YAAY,2CAAlB,CAOA,mBACI,kCACI,KAAC,aAAD,EAAe,EAAE,CAAC,MAAlB,CACE,OAAO,SACLK,aAAa,CAAE,IADV,CAELC,gBAAgB,CAAE,IAFb,CAGLC,MAAM,CAAE,GAHH,CAILC,KAAK,CAAE,CACLC,KAAK,CAAE,KADF,CAELC,MAAM,CAAE,GAFH,CAJF,gCAQE,CACLC,OAAO,CAAEC,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQpB,KAAK,CAACsB,GAAN,CAAU,SAAAV,IAAI,QAAIA,CAAAA,IAAI,CAACW,GAAT,EAAd,CAAR,EAAJ,CAA2C,GAD/C,CAELC,OAAO,CAAEJ,IAAI,CAACK,GAAL,OAAAL,IAAI,oBAAQpB,KAAK,CAACsB,GAAN,CAAU,SAAAV,IAAI,QAAIA,CAAAA,IAAI,CAACc,IAAT,EAAd,CAAR,EAAJ,CAA4C,GAFhD,CAGLC,SAAS,CAAE,CACTC,OAAO,CAAE,IADA,CAETC,eAAe,CAAE,IAFR,CAHN,CAOLX,MAAM,CAAE,GAPH,CARF,gCAiBE,CACLS,SAAS,CAAE,CACTC,OAAO,CAAE,IADA,CAETC,eAAe,CAAE,IAFR,CADN,CAjBF,+BAuBC,CAAC,CACLC,IAAI,CAAE,MADD,CAELC,kBAAkB,CAAE,WAFf,CAGLC,UAAU,CAAGhC,KAAK,CAACsB,GAAN,CAAU,SAAAtB,KAAK,QAAK,CAC/BiC,CAAC,CAAE,GAAIC,CAAAA,IAAJ,CAASlC,KAAK,CAACmC,IAAf,CAD4B,CAE/BC,CAAC,CAAEC,MAAM,CAACrC,KAAK,CAACsC,KAAP,CAFsB,CAAL,EAAf,CAHR,CAAD,CAvBD,QADT,EADJ,EADJ,CAuCD,CA3ED,CA6EA,cAAexC,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { CanvasJSChart } from 'canvasjs-react-charts';\r\nimport axios from 'axios'; \r\n\r\nconst Line = ({ symbol }) => {\r\n\r\n  const [price, setPrice] = useState([]);\r\n  /* const [date, setDate] = useState([]); */\r\n  const [stockInfo, setStockInfo] = useState([]);\r\n  const [articles, setArticles] = useState([]);\r\n  const [stock, setStock]= useState('');\r\n\r\n  useEffect(() => {\r\n    if(stock !== symbol) {\r\n      getchartInfo()\r\n      setStock(symbol)\r\n    }\r\n    \r\n  });\r\n\r\n  /*\r\n  useEffect(() => {\r\n  const getchartInfo = async () => {\r\n    const priceAndDate = await axios.get (\r\n      'https://api.marketstack.com/v1/eod?access_key=7ba49202483340bca37ab953c66b592c&symbols=' + symbol , { mode: \"no-cors\" }\r\n    );\r\n    setPrice(priceAndDate.data.data);\r\n    };\r\n    getchartInfo();\r\n  },\r\n  [null]);\r\n  */\r\n\r\n  const getchartInfo = async () => {\r\n    const priceAndDate = await axios.get (\r\n      'https://api.marketstack.com/v1/eod?access_key=7ba49202483340bca37ab953c66b592c&symbols=' + symbol , { mode: \"no-cors\" }\r\n    );\r\n    setPrice(priceAndDate.data.data);\r\n  }\r\n\r\n  return ( \r\n      <div>\r\n          <CanvasJSChart id='line'\r\n            options = { {\r\n              exportEnabled: true,\r\n              animationEnabled: true,\r\n              height: 450,\r\n              axisY: {\r\n                title: \"USD\",\r\n                prefix: \"$\"\r\n              },\r\n              axisY: {\r\n                minimum: Math.min(...price.map(data => data.low)) / 1.1,\r\n                maximum: Math.max(...price.map(data => data.high)) * 1.1,\r\n                crosshair: {\r\n                  enabled: true,\r\n                  snapToDataPoint: true\r\n                },\r\n                prefix: \"$\",\r\n              },\r\n              axisX: {\r\n                crosshair: {\r\n                  enabled: true,\r\n                  snapToDataPoint: true\r\n                },\r\n              },\r\n              data: [{\r\n                type: \"line\",\r\n                yValueFormatString: \"$#,###.##\",\r\n                dataPoints : price.map(price => ({\r\n                  x: new Date(price.date),\r\n                  y: Number(price.close)\r\n                }))\r\n              }],\r\n              \r\n            } }\r\n          />\r\n      </div> \r\n    );\r\n};\r\n\r\nexport default Line;"]},"metadata":{},"sourceType":"module"}